[
	{
		"description": "System initialization",
		"events": [
			{
				"type": "system",
				"subtype": "init",
				"model": "claude-3-5-sonnet-20241022",
				"cwd": "/home/user/project",
				"tools": ["bash", "editor", "search", "web_search"],
				"mcp_servers": ["filesystem", "database"],
				"output_style": "markdown",
				"permissionMode": "ask",
				"apiKeySource": "environment",
				"slash_commands": ["/help", "/clear", "/exit"]
			}
		]
	},
	{
		"description": "Simple text response with markdown",
		"events": [
			{
				"type": "message_start",
				"message": {
					"id": "msg_01ABC123",
					"type": "message",
					"role": "assistant",
					"model": "claude-3-5-sonnet-20241022",
					"content": [],
					"stop_reason": null,
					"stop_sequence": null,
					"usage": {
						"input_tokens": 150,
						"output_tokens": 0
					}
				}
			},
			{
				"type": "content_block_start",
				"index": 0,
				"content_block": {
					"type": "text"
				}
			},
			{
				"type": "content_block_delta",
				"index": 0,
				"delta": {
					"type": "text_delta",
					"text": "# Hello World\n\nThis is a **markdown** response with:\n\n- Bullet points\n- *Italic text*\n- `inline code`\n\n```javascript\nconsole.log('code block');\n```\n\n[Link example](https://example.com)\n\n> Blockquote example"
				}
			},
			{
				"type": "content_block_stop",
				"index": 0
			},
			{
				"type": "message_delta",
				"delta": {
					"stop_reason": "end_turn",
					"stop_sequence": null,
					"usage": {
						"output_tokens": 89
					}
				}
			},
			{
				"type": "message_stop"
			}
		]
	},
	{
		"description": "Tool use sequence",
		"events": [
			{
				"type": "message_start",
				"message": {
					"id": "msg_01DEF456",
					"type": "message",
					"role": "assistant",
					"model": "claude-3-5-sonnet-20241022",
					"content": [],
					"stop_reason": null,
					"stop_sequence": null,
					"usage": {
						"input_tokens": 200,
						"output_tokens": 0
					}
				}
			},
			{
				"type": "content_block_start",
				"index": 0,
				"content_block": {
					"type": "text"
				}
			},
			{
				"type": "content_block_delta",
				"index": 0,
				"delta": {
					"type": "text_delta",
					"text": "I'll search for files containing 'test' in the current directory."
				}
			},
			{
				"type": "content_block_stop",
				"index": 0
			},
			{
				"type": "content_block_start",
				"index": 1,
				"content_block": {
					"type": "tool_use",
					"id": "toolu_01ABC123",
					"name": "bash",
					"input": {}
				}
			},
			{
				"type": "content_block_delta",
				"index": 1,
				"delta": {
					"type": "input_json_delta",
					"partial_json": "{\"command\": \"find . -name '*test*' -type f\""
				}
			},
			{
				"type": "content_block_delta",
				"index": 1,
				"delta": {
					"type": "input_json_delta",
					"partial_json": "}"
				}
			},
			{
				"type": "content_block_stop",
				"index": 1
			},
			{
				"type": "message_delta",
				"delta": {
					"stop_reason": "tool_use",
					"stop_sequence": null,
					"usage": {
						"output_tokens": 67
					}
				}
			},
			{
				"type": "message_stop"
			}
		]
	},
	{
		"description": "Tool result and thinking",
		"events": [
			{
				"type": "message_start",
				"message": {
					"id": "msg_01GHI789",
					"type": "message",
					"role": "assistant",
					"model": "claude-3-5-sonnet-20241022",
					"content": [],
					"stop_reason": null,
					"stop_sequence": null,
					"usage": {
						"input_tokens": 300,
						"output_tokens": 0,
						"cache_read_input_tokens": 150
					}
				}
			},
			{
				"type": "content_block_start",
				"index": 0,
				"content_block": {
					"type": "thinking"
				}
			},
			{
				"type": "content_block_delta",
				"index": 0,
				"delta": {
					"type": "thinking_delta",
					"text": "The user ran a find command to search for test files. I should analyze the results and provide a helpful summary."
				}
			},
			{
				"type": "content_block_stop",
				"index": 0
			},
			{
				"type": "content_block_start",
				"index": 1,
				"content_block": {
					"type": "text"
				}
			},
			{
				"type": "content_block_delta",
				"index": 1,
				"delta": {
					"type": "text_delta",
					"text": "Great! I found several test files in your project:\n\n"
				}
			},
			{
				"type": "content_block_delta",
				"index": 1,
				"delta": {
					"type": "text_delta",
					"text": "- `./test/claude-formatter.test.ts`\n- `./test/markdown-renderer.test.ts`\n- `./src/__tests__/utils.test.js`"
				}
			},
			{
				"type": "content_block_stop",
				"index": 1
			},
			{
				"type": "message_delta",
				"delta": {
					"stop_reason": "end_turn",
					"stop_sequence": null,
					"usage": {
						"output_tokens": 45
					}
				}
			},
			{
				"type": "message_stop"
			}
		]
	},
	{
		"description": "Error scenarios",
		"events": [
			{
				"type": "error",
				"error": {
					"type": "invalid_request_error",
					"message": "Invalid API key provided. Please check your API key and try again.",
					"code": "authentication_error"
				}
			}
		]
	},
	{
		"description": "Overloaded error",
		"events": [
			{
				"type": "overloaded_error",
				"error": "The API is currently experiencing high demand. Please try again in a few moments."
			}
		]
	},
	{
		"description": "Result success with comprehensive metrics",
		"events": [
			{
				"type": "result",
				"subtype": "success",
				"duration_ms": 12500,
				"duration_api_ms": 8200,
				"num_turns": 5,
				"total_cost_usd": 0.0085,
				"session_id": "sess_abc123def456",
				"uuid": "uuid_789xyz",
				"usage": {
					"input_tokens": 2500,
					"output_tokens": 1200,
					"cache_creation_input_tokens": 800,
					"cache_read_input_tokens": 400,
					"cache_creation": {
						"ephemeral_5m_input_tokens": 300,
						"ephemeral_1h_input_tokens": 500
					},
					"service_tier": "priority"
				},
				"permission_denials": [],
				"result": "Task completed successfully! All files have been processed and the analysis is complete."
			}
		]
	},
	{
		"description": "Result failure",
		"events": [
			{
				"type": "result",
				"subtype": "error",
				"is_error": true,
				"result": "Command failed: npm test\nError: Test suite failed with 3 failing tests.\n\nDetails:\n- Authentication test failed\n- Database connection test failed  \n- API endpoint test failed\n\nPlease fix these issues and try again."
			}
		]
	},
	{
		"description": "Image and document content blocks",
		"events": [
			{
				"type": "message_start",
				"message": {
					"id": "msg_01JKL012",
					"type": "message",
					"role": "assistant",
					"model": "claude-3-5-sonnet-20241022",
					"content": [],
					"stop_reason": null,
					"stop_sequence": null,
					"usage": {
						"input_tokens": 180,
						"output_tokens": 0
					}
				}
			},
			{
				"type": "content_block_start",
				"index": 0,
				"content_block": {
					"type": "image",
					"image": {
						"media_type": "image/png",
						"data": "iVBORw0KGgoAAAANSUhEUgAA..."
					}
				}
			},
			{
				"type": "content_block_stop",
				"index": 0
			},
			{
				"type": "content_block_start",
				"index": 1,
				"content_block": {
					"type": "document",
					"document": {
						"name": "project-spec.pdf",
						"media_type": "application/pdf",
						"data": "JVBERi0xLjQKMSAwIG9iago8PAovVHlwZSAvQ2..."
					}
				}
			},
			{
				"type": "content_block_stop",
				"index": 1
			},
			{
				"type": "content_block_start",
				"index": 2,
				"content_block": {
					"type": "web_search"
				}
			},
			{
				"type": "content_block_stop",
				"index": 2
			},
			{
				"type": "content_block_start",
				"index": 3,
				"content_block": {
					"type": "server_tool_use",
					"name": "database_query"
				}
			},
			{
				"type": "content_block_stop",
				"index": 3
			},
			{
				"type": "message_stop"
			}
		]
	},
	{
		"description": "User and assistant message events",
		"events": [
			{
				"type": "user",
				"message": {
					"role": "user",
					"content": [
						{
							"type": "text",
							"text": "Please analyze this code and suggest improvements."
						}
					]
				}
			},
			{
				"type": "assistant",
				"message": {
					"role": "assistant",
					"content": [
						{
							"type": "thinking",
							"text": "I need to carefully analyze this code for potential improvements including performance, readability, and best practices."
						},
						{
							"type": "text",
							"text": "I'll analyze your code and provide suggestions for improvement.\n\n## Code Analysis\n\nHere are the main areas I've identified:\n\n### 1. Performance Optimizations\n- Consider using memoization for expensive calculations\n- Implement lazy loading for large data sets\n\n### 2. Code Structure\n- Break down large functions into smaller, focused ones\n- Use consistent naming conventions\n\n### 3. Error Handling\n- Add try-catch blocks around async operations\n- Implement proper error logging"
						},
						{
							"type": "tool_use",
							"id": "toolu_01MNO345",
							"name": "code_analysis",
							"input": {
								"language": "typescript",
								"file_path": "./src/main.ts"
							}
						}
					],
					"usage": {
						"input_tokens": 450,
						"output_tokens": 320
					}
				}
			}
		]
	},
	{
		"description": "Standalone tool events",
		"events": [
			{
				"type": "tool_use",
				"tool_name": "file_search",
				"tool_input": {
					"query": "*.test.ts",
					"directory": "./test",
					"recursive": true
				}
			},
			{
				"type": "tool_result",
				"tool_use_id": "toolu_01PQR678",
				"parent_tool_use_id": null,
				"tool_result": {
					"files_found": [
						"./test/claude-formatter.test.ts",
						"./test/markdown-renderer.test.ts",
						"./test/ralph-loop.test.ts"
					],
					"total_count": 3,
					"search_time_ms": 45
				}
			}
		]
	},
	{
		"description": "Signature delta event",
		"events": [
			{
				"type": "content_block_delta",
				"index": 0,
				"delta": {
					"type": "signature_delta",
					"signature": "sha256:a1b2c3d4e5f6..."
				}
			}
		]
	},
	{
		"description": "Ping events",
		"events": [
			{
				"type": "ping"
			}
		]
	},
	{
		"description": "Legacy text and content events",
		"events": [
			{
				"type": "text",
				"text": "This is legacy text content that should still be handled properly."
			},
			{
				"type": "content",
				"content": "This is legacy content that should be displayed correctly."
			}
		]
	},
	{
		"description": "Edge cases - empty and malformed data",
		"events": [
			{
				"type": "message_start",
				"message": null
			},
			{
				"type": "content_block_delta",
				"index": 0,
				"delta": {
					"type": "text_delta",
					"text": ""
				}
			},
			{
				"type": "error",
				"error": ""
			},
			{
				"type": "result",
				"usage": null
			},
			{
				"type": "unknown_custom_event",
				"custom_field": "This should be handled gracefully",
				"nested_object": {
					"key": "value",
					"array": [1, 2, 3]
				}
			}
		]
	},
	{
		"description": "Complex nested tool use with multiple results",
		"events": [
			{
				"type": "message_start",
				"message": {
					"id": "msg_01STU901",
					"model": "claude-3-5-sonnet-20241022",
					"usage": {
						"input_tokens": 500,
						"cache_creation_input_tokens": 200
					}
				}
			},
			{
				"type": "content_block_start",
				"index": 0,
				"content_block": {
					"type": "tool_use",
					"id": "toolu_parent",
					"name": "parallel_search"
				}
			},
			{
				"type": "content_block_delta",
				"index": 0,
				"delta": {
					"type": "input_json_delta",
					"partial_json": "{\"searches\": [{\"type\": \"files\", \"pattern\": \"*.js\"}, {\"type\": \"content\", \"query\": \"function test\"}]}"
				}
			},
			{
				"type": "content_block_stop",
				"index": 0
			},
			{
				"type": "tool_result",
				"tool_use_id": "toolu_child_1",
				"parent_tool_use_id": "toolu_parent",
				"tool_result": {
					"type": "file_search",
					"results": ["app.js", "utils.js", "test.js"]
				}
			},
			{
				"type": "tool_result",
				"tool_use_id": "toolu_child_2",
				"parent_tool_use_id": "toolu_parent",
				"tool_result": {
					"type": "content_search",
					"results": [
						{
							"file": "test.js",
							"line": 15,
							"match": "function testAuthentication()"
						}
					]
				}
			},
			{
				"type": "message_stop"
			}
		]
	}
]
